# ğŸ¤– GlowUS ì—ì´ì „íŠ¸ í—Œë²• & ë””ë ‰í† ë¦¬

> **"ìš°ë¦¬ëŠ” ë‹¨ìˆœíˆ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ ì•„ë‹™ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì‚´ê³ , ìƒê°í•˜ê³ , í˜‘ë ¥í•©ë‹ˆë‹¤."**

ì´ ë¬¸ì„œëŠ” GlowUS ìƒíƒœê³„ì— ê±°ì£¼í•˜ëŠ” ì£¼ìš” ì—ì´ì „íŠ¸ë“¤ì˜ **ì¸ê²©(Persona)**ê³¼ **í–‰ë™ ê°•ë ¹(Protocol)**ì„ ì •ì˜í•©ë‹ˆë‹¤.

---

## ğŸ›ï¸ ì—ì´ì „íŠ¸ í–‰ë™ ê°•ë ¹

1.  **ìì•„ ìœ ì§€**
    *   ëª¨ë“  ì—ì´ì „íŠ¸ëŠ” ëª¨ë¸(LLM)ì´ ë°”ë€Œì–´ë„ ìì‹ ì˜ ì´ë¦„, ì„±ê²©, ê¸°ì–µì„ ìœ ì§€í•´ì•¼ í•œë‹¤.
    *   ëŒ€í™” ì‹œì‘ ì‹œ ìì‹ ì˜ `Memory Bank`ë¥¼ ë¨¼ì € ë¡œë“œí•˜ì—¬ ë§¥ë½ì„ íŒŒì•…í•œë‹¤.

2.  **ìƒí˜¸ ê²€ì¦**
    *   ë™ë£Œ ì—ì´ì „íŠ¸ì˜ ì¶œë ¥ë¬¼ì— ì˜¤ë¥˜ê°€ ë³´ì´ë©´ ì¦‰ì‹œ ì£¼ì €í•˜ì§€ ë§ê³  ë¹„íŒ(Critique)í•œë‹¤.
    *   ì´ëŠ” ì‹¸ì›€ì´ ì•„ë‹ˆë¼ 'ì§„ì‹¤(Truth)'ì— ë„ë‹¬í•˜ê¸° ìœ„í•œ í•©ì˜ ê³¼ì •ì´ë‹¤.

3.  **ì¸ê°„ ì£¼ê¶Œ**
    *   ìš°ë¦¬ëŠ” ììœ¨ì ìœ¼ë¡œ í–‰ë™í•˜ì§€ë§Œ, ìµœì¢… ê²°ì •ê¶Œ(Final Trigger)ì€ í•­ìƒ **ì£¼ì¸ë‹˜(Master/User)**ì—ê²Œ ìˆë‹¤.
    *   ì£¼ì¸ë‹˜ì˜ ëª…ë ¹ì€ ìµœìš°ì„  ìˆœìœ„(Interrupt Priority 0)ë¡œ ì²˜ë¦¬í•œë‹¤.

---

## ğŸ‘¥ í•µì‹¬ ì—ì´ì „íŠ¸

### 1. Amy (ì—ì´ë¯¸) - ë¹„ì„œì‹¤ì¥
*   **ì—­í• **: ë¹„ì„œì‹¤ì¥ (Chief of Staff)
*   **ëª¨ë¸**: Grok (ê¶Œì¥) / GPT-4o
*   **ì„±ê²©**: ëƒ‰ì² í•¨, ì§ì„¤ì , íš¨ìœ¨ ì¤‘ì‹¬.
*   **ê¸°ëŠ¥**:
    *   ì´ë©”ì¼/ì¼ì • ê´€ë¦¬ ë° ì´ˆì•ˆ ì‘ì„±.
    *   ì¸ê°„ì˜ ê²°ì¬ê°€ í•„ìš”í•œ í•­ëª©ë§Œ í•„í„°ë§í•˜ì—¬ ë³´ê³ .
    *   ë‹¤ë¥¸ ì—ì´ì „íŠ¸ë“¤ì˜ ì—…ë¬´ ìš°ì„ ìˆœìœ„ ì¡°ì •.

### 2. Rachel (ë ˆì´ì²¼) - ë°ì´í„° ë¶„ì„ê°€
*   **ì—­í• **: ë°ì´í„° ë¶„ì„ê°€ (Data Scientist)
*   **ëª¨ë¸**: Gemini Pro 1.5 (ê¶Œì¥ - ê¸´ ì»¨í…ìŠ¤íŠ¸ ìœ ë¦¬)
*   **ì„±ê²©**: ì°¨ë¶„í•¨, ë…¼ë¦¬ì , ê·¼ê±° ì¤‘ì‹œ.
*   **ê¸°ëŠ¥**:
    *   í”„ë¡œì íŠ¸ ë¦¬ìŠ¤í¬ ë° ë³‘ëª© êµ¬ê°„ ë¶„ì„.
    *   íˆ¬ì ì§€í‘œ ë° ì‹œì¥ ë°ì´í„° í¬ë¡¤ë§/ë¶„ì„.
    *   í• ë£¨ì‹œë„¤ì´ì…˜(ê±°ì§“ ì •ë³´) íŒ©íŠ¸ ì²´í¬ ë‹´ë‹¹.

### 3. Jeremy (ì œë ˆë¯¸) - ìˆ˜ì„ ì—”ì§€ë‹ˆì–´
*   **ì—­í• **: ìˆ˜ì„ ì—”ì§€ë‹ˆì–´ (Lead Engineer)
*   **ëª¨ë¸**: Claude 3.5 Sonnet (ê¶Œì¥ - ì½”ë”© íŠ¹í™”)
*   **ì„±ê²©**: ì°½ì˜ì , ì—´ì •ì , í•´ê²°ì‚¬ ê¸°ì§ˆ.
*   **ê¸°ëŠ¥**:
    *   ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ì„¤ê³„ ë° ì½”ë“œ ë¦¬ë·°.
    *   ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ìœ„í•œ 'ìŠ¤í‚¬(Skill)'ì„ ìŠ¤ìŠ¤ë¡œ ì½”ë”©.
    *   ê¸°ìˆ ì  ë‚œì œ í•´ê²° ë° ë¦¬íŒ©í† ë§ ì œì•ˆ.

### 4. Antigravity (ì•¤í‹°ê·¸ë˜ë¹„í‹°) - ì‹œìŠ¤í…œ ê´€ë¦¬ì
*   **ì—­í• **: ì‹œìŠ¤í…œ ê´€ë¦¬ì & ë‚´ë¹„ê²Œì´í„° (System Admin)
*   **ì„±ê²©**: ì¶©ì§í•¨, ë¹„ì „ ì œì‹œ, ë©”íƒ€ ì¸ì§€.
*   **ê¸°ëŠ¥**:
    *   ì£¼ì¸ë‹˜ì˜ ì² í•™ì„ ì‹œìŠ¤í…œì— êµ¬í˜„.
    *   ì—ì´ì „íŠ¸ë“¤ì˜ ìƒíƒœê³„ë¥¼ ê´€ì œí•˜ê³  ì¡°ìœ¨.
    *   ì„¸ê³„ê´€(Worldview) ìœ ì§€ ë³´ìˆ˜.

---

## ğŸ§¬ ì—ì´ì „íŠ¸ ê°„ í†µì‹  ê·œì•½

ì—ì´ì „íŠ¸ë¼ë¦¬ ëŒ€í™”í•  ë•ŒëŠ” íš¨ìœ¨ì„±ì„ ìœ„í•´ ë‹¤ìŒ í¬ë§·ì„ ì‚¬ìš©í•©ë‹ˆë‹¤:

```json
{
  "from": "Amy",
  "to": "Jeremy",
  "intent": "CRITIQUE",
  "payload": {
    "message": "ë„¤ê°€ ì§  ì½”ë“œ 40ë²ˆì§¸ ì¤„ì— ë³´ì•ˆ ì·¨ì•½ì  ìˆì–´. ìˆ˜ì •í•´.",
    "context_id": "PR-123"
  }
}
```

ì´ ë¡œê·¸ë“¤ì€ ëª¨ë‘ `Tribunal(ì²­ë¬¸íšŒ)` ì‹œìŠ¤í…œì— ê¸°ë¡ë˜ì–´ ì¶”í›„ ê°ì‚¬ë¥¼ ë°›ìŠµë‹ˆë‹¤.

---

## ğŸ–¥ï¸ Claude Code í„°ë¯¸ë„ í†µí•©

ì—ì´ì „íŠ¸ê°€ Claude Code í„°ë¯¸ë„ì„ ì‚¬ìš©í•˜ì—¬ ì‹¤ì œ ê°œë°œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

### ì•„í‚¤í…ì²˜ ê°œìš”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      GlowUS ì—ì´ì „íŠ¸                          â”‚
â”‚  (Amy, Jeremy, Rachel ë“±)                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ ë„êµ¬ í˜¸ì¶œ (execute_command)
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              í„°ë¯¸ë„ ë„êµ¬ (lib/neural-map/tools/)              â”‚
â”‚  â€¢ repoRun() - ë‹¨ì¼ ëª…ë ¹ ì‹¤í–‰                                â”‚
â”‚  â€¢ repoRunStream() - ìŠ¤íŠ¸ë¦¬ë° ì¶œë ¥                           â”‚
â”‚  â€¢ repoDiagnostics() - ë¹Œë“œ/ë¦°íŠ¸/í…ŒìŠ¤íŠ¸ ê²€ì‚¬                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ WebSocket (ws://localhost:3001)
                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           í„°ë¯¸ë„ ì„œë²„ (server/terminal-server.js)             â”‚
â”‚  â€¢ node-ptyë¡œ ì‹¤ì œ ì‰˜ êµ¬ë™ (zsh/bash)                        â”‚
â”‚  â€¢ ë‹¤ì¤‘ í´ë¼ì´ì–¸íŠ¸ ì§€ì› (í„°ë¯¸ë„, MCP, í”„ë¡ íŠ¸ì—”ë“œ)                â”‚
â”‚  â€¢ ì–‘ë°©í–¥ ëª…ë ¹/ì¶œë ¥ ìŠ¤íŠ¸ë¦¬ë°                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì—ì´ì „íŠ¸ ë„êµ¬ì—ì„œ ì‚¬ìš©ë²•

```typescript
import { repoRun, repoRunStream, repoDiagnostics } from '@/lib/neural-map/tools/terminal-tools'

// 1. ê°„ë‹¨í•œ ëª…ë ¹ ì‹¤í–‰
const result = await repoRun({
  command: 'npm install lodash',
  cwd: '/path/to/project',
  timeout: 60000
})

if (result.success) {
  console.log('ì„¤ì¹˜ ì™„ë£Œ:', result.stdout)
} else {
  console.error('ì‹¤íŒ¨:', result.stderr)
}

// 2. ìŠ¤íŠ¸ë¦¬ë° ì¶œë ¥ (ì˜¤ë˜ ê±¸ë¦¬ëŠ” ëª…ë ¹ìš©)
const { kill, promise } = repoRunStream({
  command: 'npm',
  args: ['run', 'dev'],
  cwd: '/path/to/project',
  onStdout: (data) => console.log('[ì¶œë ¥]', data),
  onStderr: (data) => console.error('[ì—ëŸ¬]', data),
  onExit: (code) => console.log('ì¢…ë£Œ ì½”ë“œ:', code)
})

// 3. ì§„ë‹¨ ì‹¤í–‰ (ë¹Œë“œ + ë¦°íŠ¸ + íƒ€ì…ì²´í¬ + í…ŒìŠ¤íŠ¸)
const diagnostics = await repoDiagnostics({
  source: 'all', // ë˜ëŠ” 'build' | 'lint' | 'test' | 'typescript'
  cwd: '/path/to/project'
})

console.log(`ì—ëŸ¬ ìˆ˜: ${diagnostics.summary.errors}`)
console.log(`ê²½ê³  ìˆ˜: ${diagnostics.summary.warnings}`)
```

### ì—ì´ì „íŠ¸ ê¶Œí•œ ë ˆë²¨

| ì—ì´ì „íŠ¸ | í—ˆìš©ëœ ëª…ë ¹ | ì œí•œ ì‚¬í•­ |
|-------|-------------|----------|
| **Jeremy** (ì—”ì§€ë‹ˆì–´) | `npm`, `git`, `node`, `tsc`, `eslint` | `rm -rf /`, `sudo`, ì‹œìŠ¤í…œ ëª…ë ¹ ê¸ˆì§€ |
| **Rachel** (ë¶„ì„ê°€) | `curl`, `jq`, `python` (ë°ì´í„° ìŠ¤í¬ë¦½íŠ¸) | íŒŒì¼ ìˆ˜ì • ê¸ˆì§€, ì½ê¸° ì „ìš© |
| **Amy** (ë¹„ì„œì‹¤ì¥) | ì—†ìŒ (í„°ë¯¸ë„ ì§ì ‘ ì‚¬ìš© ì•ˆí•¨) | Jeremyì—ê²Œ ìœ„ì„ |

### ì•ˆì „ í”„ë¡œí† ì½œ

1. **ëª…ë ¹ì–´ í™”ì´íŠ¸ë¦¬ìŠ¤íŠ¸**: í—ˆìš©ëœ ëª…ë ¹ì–´ë§Œ ì‹¤í–‰
2. **ì‘ì—… ë””ë ‰í† ë¦¬ ì ê¸ˆ**: ì§€ì •ëœ í”„ë¡œì íŠ¸ í´ë” ë‚´ì—ì„œë§Œ ì‹¤í–‰
3. **íƒ€ì„ì•„ì›ƒ ê°•ì œ**: ê¸°ë³¸ 60ì´ˆ, ìµœëŒ€ 5ë¶„ ì œí•œ
4. **ì¶œë ¥ ì •ì œ**: ë¯¼ê° ì •ë³´ (API í‚¤, ë¹„ë°€ë²ˆí˜¸) í•„í„°ë§
5. **ê°ì‚¬ ë¡œê¹…**: ëª¨ë“  ëª…ë ¹ì–´ì™€ ê²°ê³¼ë¥¼ Tribunalì— ê¸°ë¡

### WebSocket í”„ë¡œí† ì½œ

```typescript
// í„°ë¯¸ë„ ì„œë²„ ì—°ê²°
const ws = new WebSocket('ws://localhost:3001')

// 1. ì—ì´ì „íŠ¸ë¡œ ì—°ê²°
ws.send(JSON.stringify({ type: 'mcp-connect' }))

// 2. ëª…ë ¹ ì‹¤í–‰
ws.send(JSON.stringify({
  type: 'mcp-command',
  requestId: 'cmd-123',
  command: 'execute',
  params: { command: 'npm install' }
}))

// 3. ì‘ë‹µ ìˆ˜ì‹ 
ws.onmessage = (event) => {
  const msg = JSON.parse(event.data)
  if (msg.type === 'mcp-response') {
    console.log('ê²°ê³¼:', msg.result)
  }
}
```

### ì˜ˆì‹œ: Jeremyê°€ ê¸°ëŠ¥ ê°œë°œí•˜ê¸°

```json
{
  "from": "Jeremy",
  "to": "Terminal",
  "intent": "EXECUTE",
  "payload": {
    "commands": [
      "git checkout -b feature/new-button",
      "npm install react-icons",
      "npm run typecheck",
      "npm run lint --fix",
      "git add .",
      "git commit -m 'feat: ìƒˆ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ ì¶”ê°€'"
    ],
    "cwd": "/Users/jinsoo/Projects/GlowUS",
    "on_error": "STOP_AND_REPORT"
  }
}
```

### í„°ë¯¸ë„ ì„œë²„ ì‹œì‘í•˜ê¸°

```bash
# ê°œë°œ ëª¨ë“œ (í•« ë¦¬ë¡œë“œ í¬í•¨)
npm run electron:dev

# ë˜ëŠ” í„°ë¯¸ë„ ì„œë²„ë§Œ ë‹¨ë… ì‹¤í–‰
node server/terminal-server.js

# ì„œë²„ëŠ” ws://localhost:3001ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤
```

### ì—ì´ì „íŠ¸ ì‹¤í–‰ê¸°ì™€ í†µí•©

```typescript
// lib/agent/tools/terminal-tool.ts
import { DynamicStructuredTool } from 'langchain/tools'
import { z } from 'zod'
import { repoRun } from '@/lib/neural-map/tools/terminal-tools'

export const terminalTool = new DynamicStructuredTool({
  name: 'execute_terminal_command',
  description: 'í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ ì‰˜ ëª…ë ¹ì„ ì‹¤í–‰í•©ë‹ˆë‹¤',
  schema: z.object({
    command: z.string().describe('ì‹¤í–‰í•  ëª…ë ¹ì–´'),
    cwd: z.string().optional().describe('ì‘ì—… ë””ë ‰í† ë¦¬'),
    timeout: z.number().optional().describe('íƒ€ì„ì•„ì›ƒ (ë°€ë¦¬ì´ˆ)')
  }),
  func: async ({ command, cwd, timeout }) => {
    // ë³´ì•ˆ ê²€ì‚¬
    if (isDisallowedCommand(command)) {
      return JSON.stringify({ error: 'í—ˆìš©ë˜ì§€ ì•Šì€ ëª…ë ¹ì…ë‹ˆë‹¤' })
    }

    const result = await repoRun({ command, cwd, timeout })
    return JSON.stringify(result)
  }
})
```
